
<% show_comments ||= false%>

<%=  link_to user_post_path(user_id:post.user.id,id:post.id) do%>


<div class=" border-2 border-blue-200 bg-cyan-300 flex-col space-y-2 p-4 m-2">

<p class=" text-3xl font-semibold ">
Post #<%= post.id%>  by <%= post.user.name%>

</p>

<p class="text-xl font-medium ">

<%= post.text%>
</p>

<div class=" flex w-48 bg-red-300 space-x-4 ml-20">
	<p>Comments: <%= post.comments_count || 0 %></p>
	
	<p>Likes: <%= post.likes_count ||0 %></p>
</div>
<%end%>

	<div class="flex">
		<%= link_to new_user_post_comment_path(user_id:post.user_id,post_id:post.id) do %>
			<button class="bg-yellow-300 ring-8 p-4 m-4 w-52 text-center hover:cursor-pointer">Create New Comment</button>
		<%end%>
		<%= form_with url: user_post_likes_path(user_id: post.user.id, post_id: post.id), scope: :data do |form| %>
				<button class="bg-red-200 w-32 text-center hover:cursor-pointer ring-8 p-4 m-4">
		
						<%= form.submit "Like" %>
				</button>
		<% end %>
	</div>


<%# show comments if specifically asked for by render  %>
<% if show_comments%>
<%= render  partial:'/comments/comment' , collection:post.most_recent_comments  %>
<%end%>

</div>

